<script lang="ts">
    import { enhance } from '$app/forms';
    import type { ActionData } from './$types';

    let { form }: { form: ActionData } = $props();
</script>

<div class="page login-page">
    <div class="container">
        <div class="login-wrapper">
            <div class="login-card card">
                <div class="login-header">
                    <div class="login-icon">ğŸ”</div>
                    <h1 class="login-title">æ¬¢è¿å›åˆ° Cortex</h1>
                    <p class="login-subtitle">è¯·è¾“å…¥å¯†ç ä»¥ç»§ç»­è®¿é—®ç³»ç»Ÿ</p>
                </div>

                <form method="POST" action="?/login" use:enhance class="login-form">
                    <div class="form-group">
                        <label for="password" class="form-label">
                            <span class="label-icon">ğŸ”‘</span>
                            <span>å¯†ç </span>
                        </label>
                        <input
                            type="password"
                            id="password"
                            name="password"
                            class="form-input"
                            placeholder="è¾“å…¥æ‚¨çš„å¯†ç "
                            required
                        />
                    </div>

                    {#if form?.error}
                        <div class="alert alert-danger">
                            <span class="alert-icon">âš ï¸</span>
                            <span>{form.error}</span>
                        </div>
                    {/if}

                    <button type="submit" class="btn btn-primary btn-block">
                        <span>ç™»å½•ç³»ç»Ÿ</span>
                        <span class="btn-arrow">â†’</span>
                    </button>
                </form>

                <div class="login-footer">
                    <p class="help-text">
                        <span class="help-icon">ğŸ’¡</span>
                        è¯·ä½¿ç”¨ç³»ç»Ÿç®¡ç†å‘˜æä¾›çš„å¯†ç ç™»å½•
                    </p>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
    /* ä»…ä¿ç•™ä¸å¸ƒå±€å’ŒåŠ¨ç”»ç›¸å…³çš„å±€éƒ¨æ ·å¼ï¼Œå¤ç”¨å…¨å±€æ ·å¼ (src/app.css) */
    .login-page {
        min-height: 100vh;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: var(--space-lg);
    }

    .login-wrapper {
        width: 100%;
        max-width: 440px;
        margin: 0 auto; /* åœ¨å®¹å™¨å†…æ°´å¹³å±…ä¸­ */
        animation: fadeInUp 0.45s ease-out;
    }

    /* è®©å¡ç‰‡åœ¨ç™»å½•é¡µæ›´çªå‡ºï¼ˆå¤ç”¨ .card çš„åŸºç¡€æ ·å¼ï¼‰ */
    .login-card {
        box-shadow: var(--shadow-card);
        border-color: var(--color-border);
    }

    .login-header {
        text-align: center;
        margin-bottom: var(--space-xl);
    }

    .login-icon {
        font-size: 3rem;
        margin-bottom: var(--space-md);
        animation: pulse 2s ease-in-out infinite;
    }

    .label-icon {
        margin-right: var(--space-sm);
    }

    .btn-arrow {
        margin-left: var(--space-sm);
        transition: transform var(--transition-fast);
    }

    .btn-primary:hover .btn-arrow {
        transform: translateX(4px);
    }

    @keyframes fadeInUp {
        from { opacity: 0; transform: translateY(12px); }
        to { opacity: 1; transform: translateY(0); }
    }

    @keyframes pulse {
        0%, 100% { transform: scale(1); }
        50% { transform: scale(1.05); }
    }
</style>
